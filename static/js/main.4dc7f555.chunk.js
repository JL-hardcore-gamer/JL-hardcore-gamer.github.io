(this["webpackJsonpinsider-client"]=this["webpackJsonpinsider-client"]||[]).push([[0],{117:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),l=t.n(c),o=(t(71),t(57)),i=t(5),u=t(19),s=t(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(97),t(98);var d="https://api.hardcoregamer.patrickear.com",m=t(32),p=t(2),f=t(20),E=t.n(f),b=t(3),y=t(17),v=t(8),g=function(e){return{type:"SET_USER",payload:e}},O=function(e){return{type:"SET_USER_SERVER_CHECKED",payload:e}},j={data:null,serverChecked:null};var h=function(e){var n=Object(i.c)((function(e){return e.user.data})),t=Object(i.b)();return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Hardcore Gamer"),r.a.createElement("ul",{className:"nav justify-content-end"},n&&n.nickname?r.a.createElement(r.a.Fragment,null,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/signin",onClick:function(){t(g(null)),t(O(!1)),localStorage.clear()}},"D\xe9connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{className:"navbar-brand"},n.nickname))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/signin"},"Connexion")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link",to:"/signup"},"Cr\xe9er un compte")))))},k=t(11);function x(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return x=function(){return e},e}function _(){var e=Object(p.a)(["\n  width: 30rem;\n"]);return _=function(){return e},e}function S(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n"]);return S=function(){return e},e}var N=b.a.div(S()),C=b.a.div(_()),R=b.a.div(x()),A=function(e){var n=Object(y.g)(),t=Object(i.b)(),c=Object(a.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1],s=Object(a.useState)(""),m=Object(k.a)(s,2),p=m[0],f=m[1];return console.log("process.env",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API:"https://api.hardcoregamer.patrickear.com",REACT_APP_WS:"wss://api.hardcoregamer.patrickear.com"})),r.a.createElement(N,null,r.a.createElement(C,{className:"card"},r.a.createElement("div",{className:"card-header"},"Cr\xe9ation d'un compte"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Email")),r.a.createElement("input",{type:"email",className:"form-control",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"C'est juste pour g\xe9n\xe9rer un compte, on ne vous enverra pas d'email.")),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Pseudo")),r.a.createElement("input",{type:"text",className:"form-control",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(R,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){E.a.post("".concat(d,"/api/signup"),{email:o,nickname:p}).then((function(e){var a=e.data;localStorage.setItem("nickname",a.nickname),localStorage.setItem("token",a.token),t(g({nickname:a.nickname,token:a.token})),t(O(!0)),n.push("/")}))}},"Cr\xe9er un compte")))))};function T(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return T=function(){return e},e}function w(){var e=Object(p.a)(["\n  width: 30rem;\n"]);return w=function(){return e},e}function P(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n"]);return P=function(){return e},e}var D=b.a.div(P()),I=b.a.div(w()),L=b.a.div(T()),M=function(e){var n=Object(y.g)(),t=Object(i.b)(),c=Object(a.useState)(""),l=Object(k.a)(c,2),o=l[0],u=l[1];return r.a.createElement(D,null,r.a.createElement(I,{className:"card"},r.a.createElement("div",{className:"card-header"},"Connexion \xe0 votre compte"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Email")),r.a.createElement("input",{type:"email",className:"form-control",value:o,onChange:function(e){u(e.target.value)}})),r.a.createElement(L,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){E.a.post("".concat(d,"/api/signin"),{email:o}).then((function(e){var a=e.data;localStorage.setItem("nickname",a.nickname),localStorage.setItem("token",a.token),t(g({nickname:a.nickname,token:a.token})),t(O(!0)),n.push("/")}))}},"Se connecter")))))},B=t(63),H=t(25),K=function(e){return{type:"SET_ROOMS",payload:e}},Y=function(e){return{type:"SET_CURRENT_ROOM",payload:e}},U=function(e){return{type:"SET_PLAYERS",payload:e}},W=function(e){return{type:"ADD_PLAYED_CARD",payload:e}},G={client:null,rooms:[],state:{},currentRoom:null,players:[],playerHand:[],rounds:[],currentTrickPlayedCard:[],playersBet:[],scores:[]};function V(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return V=function(){return e},e}function z(){var e=Object(p.a)(["\n  margin: 0 10px;\n  width: 18rem;\n"]);return z=function(){return e},e}function F(){var e=Object(p.a)(["\n  display: flex;\n"]);return F=function(){return e},e}function X(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return X=function(){return e},e}function J(){var e=Object(p.a)([""]);return J=function(){return e},e}var q=b.a.div(J()),$=b.a.h5(X()),Q=b.a.div(F()),Z=b.a.div(z()),ee=b.a.div(V()),ne=function(e){var n=Object(i.c)((function(e){return e.game.client})),t=Object(i.c)((function(e){return e.game.rooms})),c=Object(i.c)((function(e){return e.user.data})),l=Object(y.g)(),o=Object(i.b)();Object(a.useEffect)((function(){n.getAvailableRooms("SkullKing").then((function(e){o(K(e))})).catch((function(e){console.error(e)}))}),[n,o]);return r.a.createElement(q,{className:"card"},r.a.createElement($,{className:"card-header"},"Lobby",r.a.createElement(ee,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){n.create("SkullKing",{nickname:c.nickname,token:c.token}).then((function(e){e.state.players.onAdd=function(e,n){o(U(e))},o(Y(e)),l.push("/room/".concat(e.id))})).catch((function(e){console.error("creation or join error",e)}))}},"Cr\xe9er une table"))),r.a.createElement("div",{className:"card-body"},r.a.createElement(Q,null,t.map((function(e,t){var a=B(e.createdAt).format("DD/MM/YY HH:mm:ss");return r.a.createElement(Z,{key:t,className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Skull King - ",e.roomId),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},a),r.a.createElement(ee,null,r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t=e.roomId,void n.joinById(t,{nickname:c.nickname,token:c.token}).then((function(e){e.state.players.onAdd=function(e,n){o(U(e))},o(Y(e)),l.push("/room/".concat(e.id))})).catch((function(e){console.error("join error",e)}));var t}},"Rejoindre"))))})))))};function te(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 40px;\n  height: 40px;\n  border: solid 1px black;\n  border-radius: 20px;\n  margin: 10px;\n"]);return te=function(){return e},e}function ae(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 300px;\n  margin: 0 10px 10px 0;\n"]);return ae=function(){return e},e}function re(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return re=function(){return e},e}function ce(){var e=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return ce=function(){return e},e}function le(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return le=function(){return e},e}function oe(){var e=Object(p.a)([""]);return oe=function(){return e},e}var ie=b.a.div(oe()),ue=b.a.h5(le()),se=b.a.div(ce()),de=b.a.div(re()),me=b.a.div(ae()),pe=b.a.div(te()),fe=function(e){var n=Object(i.c)((function(e){return e.game.client})),t=Object(i.b)(),c=Object(y.g)(),l=Object(i.c)((function(e){return e.game.currentRoom})),o=Object(i.c)((function(e){return e.game.players}));return Object(a.useEffect)((function(){n.getAvailableRooms("SkullKing").then((function(e){t(K(e))})).catch((function(e){console.error(e)})),l?(l.onMessage("GAME_STATE",(function(e){console.log("message received from server"),console.log(e)})),l.onMessage("GAME_STARTED",(function(e){c.push("/game")}))):c.push("/")}),[n,l,t,c]),r.a.createElement(ie,{className:"card"},r.a.createElement(ue,{className:"card-header"},r.a.createElement("div",null,"Room"),r.a.createElement(de,null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){l.send("START_GAME",{message:"hey"}),l.send("TEST",{message:"TEST"}),c.push("/game")}},"Lancer la partie"))),r.a.createElement("div",{className:"card-body"},r.a.createElement(se,null,o.map((function(e,n){return r.a.createElement(me,{key:n,className:"card"},r.a.createElement(pe,null,r.a.createElement("i",{className:"fas fa-dice-one fa-lg"})),"Name: ",e.name)})))))},Ee=t(24);function be(){var e=Object(p.a)(["\n  font-size: 30px;\n"]);return be=function(){return e},e}function ye(){var e=Object(p.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return ye=function(){return e},e}function ve(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  vertical-align: middle;\n  margin-top: 5px;\n"]);return ve=function(){return e},e}function ge(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100px;\n  height: 130px;\n  border-radius: 5px;\n  border: 1px solid grey;\n  background-color: ",";\n  cursor: ",";\n"]);return ge=function(){return e},e}var Oe=b.a.div(ge(),(function(e){return e.bgColor}),(function(e){return e.cursor})),je=b.a.div(ve()),he=b.a.div(ye()),ke=b.a.span(be()),xe=function(e){var n,t=e.type,a=e.color,c=e.value,l=e.icon1,o=e.icon2,i=e.cursor,u=null;switch(t){case"red":case"blue":case"yellow":case"black":u=r.a.createElement(he,null,r.a.createElement(ke,null,c));break;case"purple":case"pink":case"grey":case"white":case"green-choice":u=r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,c),r.a.createElement(he,null,r.a.createElement("i",{className:"fas ".concat(l," fa-3x")})));break;case"green":u=r.a.createElement(r.a.Fragment,null,r.a.createElement(je,null,c),r.a.createElement(he,null,r.a.createElement("div",null,r.a.createElement("i",{className:"fas ".concat(l," fa-2x")}),r.a.createElement("span",{style:{fontSize:"40px"}},"/"),r.a.createElement("i",{className:"fas ".concat(o," fa-2x")}))));break;default:u=r.a.createElement(he,null,r.a.createElement(ke,null,c))}switch(i){case"NORMAL":n="default";break;case"CLICKABLE":n="pointer";break;case"DISABLE":n="not-allowed";break;default:n="default"}return r.a.createElement(Oe,{bgColor:a,cursor:n},u)},_e=[{type:"red",color:"#f44336"},{type:"blue",color:"#2196f3"},{type:"yellow",color:"#ffeb3b"},{type:"black",color:"#607d8b"}],Se=[{id:52,type:"purple",color:"#9c27b0",value:"JL King",icon1:"fa-chess-king",icon2:null},{id:53,type:"pink",color:"#e27b9e",value:"Mermaid",icon1:"fa-fish",icon2:null},{id:54,type:"pink",color:"#e27b9e",value:"Mermaid",icon1:"fa-fish",icon2:null},{id:55,type:"grey",color:"#9e9e9e",value:"Pirate",icon1:"fa-skull-crossbones",icon2:null},{id:56,type:"grey",color:"#9e9e9e",value:"Pirate",icon1:"fa-skull-crossbones",icon2:null},{id:57,type:"grey",color:"#9e9e9e",value:"Pirate",icon1:"fa-skull-crossbones",icon2:null},{id:58,type:"grey",color:"#9e9e9e",value:"Pirate",icon1:"fa-skull-crossbones",icon2:null},{id:59,type:"grey",color:"#9e9e9e",value:"Pirate",icon1:"fa-skull-crossbones",icon2:null},{id:60,type:"white",color:"white",value:"Escape",icon1:"fa-flag",icon2:null},{id:61,type:"white",color:"white",value:"Escape",icon1:"fa-flag",icon2:null},{id:62,type:"white",color:"white",value:"Escape",icon1:"fa-flag",icon2:null},{id:63,type:"white",color:"white",value:"Escape",icon1:"fa-flag",icon2:null},{id:64,type:"white",color:"white",value:"Escape",icon1:"fa-flag",icon2:null},{id:65,type:"green",color:"#4caf50",value:"Bloody Mary",icon1:"fa-skull-crossbones",icon2:"fa-flag"},{id:66,type:"green-choice",color:"#9e9e9e",value:"Bloody Mary",icon1:"fa-skull-crossbones",icon2:null},{id:67,type:"green-choice",color:"white",value:"Bloody Mary",icon1:"fa-flag",icon2:null}],Ne=function(){var e=[],n=0;return _e.forEach((function(t){for(var a=t.color,r=t.type,c=1;c<=13;++c)e.push({id:n,type:r,color:a,value:c}),++n})),e.push.apply(e,Se),e}();function Ce(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n  font-size: 25px;\n"]);return Ce=function(){return e},e}function Re(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Re=function(){return e},e}function Ae(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  width: 500px;\n"]);return Ae=function(){return e},e}function Te(){var e=Object(p.a)(["\n  display: flex;\n  font-size: 20px;\n"]);return Te=function(){return e},e}function we(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  margin: 20px;\n"]);return we=function(){return e},e}function Pe(){var e=Object(p.a)(["\n  font-size: 30px;\n"]);return Pe=function(){return e},e}function De(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n"]);return De=function(){return e},e}function Ie(){var e=Object(p.a)(["\n  margin: 10px;\n"]);return Ie=function(){return e},e}function Le(){var e=Object(p.a)(["\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Le=function(){return e},e}function Me(){var e=Object(p.a)(["\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Me=function(){return e},e}function Be(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 0 10px;\n"]);return Be=function(){return e},e}function He(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n"]);return He=function(){return e},e}function Ke(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 200px;\n  height: 250px;\n  margin: 0 10px;\n\n  background-color: rgba(22, 22, 22, 0.2);\n  border-radius: 5px;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Ye=function(){return e},e}var Ue=b.a.div(Ye()),We=b.a.div(Ke()),Ge=b.a.div(He()),Ve=b.a.div(Be()),ze=b.a.div(Me()),Fe=b.a.div(Le()),Xe=b.a.div(Ie()),Je=b.a.div(De()),qe=b.a.div(Pe()),$e=b.a.div(we()),Qe=b.a.div(Te()),Ze=b.a.div(Ae()),en=b.a.div(Re()),nn=b.a.div(Ce()),tn=function(){var e=Object(i.b)(),n=Object(y.g)(),t=Object(i.c)((function(e){return e.user.data.nickname})),c=Object(i.c)((function(e){return e.game.currentRoom})),l=Object(i.c)((function(e){return e.game.players})),o=Object(i.c)((function(e){return e.game.rounds})),u=Object(a.useState)(!1),d=Object(k.a)(u,2),m=d[0],p=d[1],f=function(){return p(!1)},E=Object(i.c)((function(e){return e.game.playerHand})),b=Object(a.useState)(0),v=Object(k.a)(b,2),g=v[0],O=v[1],j=Object(a.useState)(-1),h=Object(k.a)(j,2),x=h[0],_=h[1],S=Object(a.useState)(null),N=Object(k.a)(S,2),C=N[0],R=N[1],A=Object(a.useState)(!1),T=Object(k.a)(A,2),w=T[0],P=T[1],D=Object(i.c)((function(e){return e.game.currentTrickPlayedCard})),I=Object(i.c)((function(e){return e.game.playersBet})),L=Object(i.c)((function(e){return e.game.scores})),M=Object(a.useState)(-1),B=Object(k.a)(M,2),H=B[0],K=B[1],Y=Object(a.useState)(-1),U=Object(k.a)(Y,2),G=U[0],V=U[1],z=Object(a.useState)([]),F=Object(k.a)(z,2),X=F[0],J=F[1],q=Object(a.useState)(""),$=Object(k.a)(q,2),Q=$[0],Z=$[1];Object(a.useEffect)((function(){return c||n.push("/"),function(){console.log("Cleanup"),e({type:"RESET_GAME"})}}),[]),console.log("currentRoom",c),Object(a.useEffect)((function(){console.log("=== RESET === "),o.length>0&&e(function(e){return{type:"SET_PLAYER_HAND",payload:e}}(o[g].hand))}),[g,o]),Object(a.useEffect)((function(){c&&(c.state.game.remainingRounds.onAdd=function(n,a){var r=l.find((function(e){return e.name===t})),c={id:n.id,hand:n.playersHand[r.id].hand};e(function(e){return{type:"ADD_ROUND",payload:e}}(c))},c.state.currentTrick.onChange=function(n){n.forEach((function(e){var n=e.field,t=e.value;"currentPlayer"===n&&_(t),"bloodyMary"===n&&R(t)})),c.state.currentTrick.cardsPlayed.onAdd=function(n,t){e(W({playedId:parseInt(t),cardPlayedId:n.id}))},c.state.currentTrick.cardsPlayed.onChange=function(n,t){e(W({playedId:parseInt(t),cardPlayedId:n.id}))},c.state.game.scoreboard.onAdd=function(e,n){console.log("onAdd score",e),console.log("onAdd key",n)},c.state.game.scoreboard.onChange=function(e,n){console.log("onChange score",e),console.log("onChange key",n)}},c.onMessage("TOP_MESSAGE",(function(e){Z(e)})),c.onMessage("START_BETTING",(function(n){K(n.maxBet),Z(n.topMessage),O(n.maxBet-1),e({type:"CLEAR_PLAYED_CARD"}),P(!1),R(null),n.scores&&e({type:"SET_SCORES",payload:n.scores})})),c.onMessage("START_ROUND",(function(n){console.log("START_ROUND",n),P(!0),e(function(e){return{type:"SET_PLAYERS_BET",payload:e}}(n.playersBet.map((function(e){return{playerId:parseInt(e.playerId),bet:e.bet,tricksWon:0}}))))})),c.onMessage("CARD_VALIDATED",(function(n){e({type:"REMOVE_CARD_FROM_PLAYER_HAND",payload:n.value})})),c.onMessage("NEXT_TRICK",(function(n){e({type:"CLEAR_PLAYED_CARD"}),R(null)})),c.onMessage("TRICK_WINNER",(function(n){console.log("TRICK_WINNER",n);var t=n.value;e(function(e){return{type:"PLAYER_WON_TRICK",payload:e}}(t))})),c.onMessage("GAME_OVER",(function(e){console.log("GAME_OVER",e),console.log("winners",e.winners),J(e.winners)})))}),[c,e,E,l,D,t]);var ee=null!==G&&null!=H&&G>=0&&G<=H&&/^(?:[1-9]|0[1-9]|10|0)$/.test(G),ne=l.find((function(e){return e.id===x})),te=ne&&t&&ne.name===t,ae=null;return X.length>0&&(ae=X.includes(ne.id.toString()),console.log("winners",X),console.log("currentPlayer",ne)),0===X.length?r.a.createElement("div",null,r.a.createElement(Je,null,r.a.createElement(qe,null,"Round ",g+1)),null!==Q?r.a.createElement($e,null,r.a.createElement(Qe,null,Q)):null,-1!==H?r.a.createElement($e,null,r.a.createElement(Ze,{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Nombre de plis")),r.a.createElement("input",{type:"number",className:"form-control",min:"0",max:H,onChange:function(e){V(parseInt(e.target.value))}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!ee,onClick:function(){G>=0&&(c.send("BET",{value:G}),K(-1))}},"Pr\xeat \xe0 Yo-Ho-Ho")))):null,r.a.createElement(Ue,null,l.map((function(e,n){var t=x===e.id,a=D.find((function(n){return n.playedId===e.id})),c=a&&a.cardPlayedId;65===c&&"pirate"===C?c=66:65===c&&"escape"===C&&(c=67);var l=I.find((function(n){return n.playerId===e.id})),o=L.find((function(n){return parseInt(n.playerId)===e.id}));return r.a.createElement(We,{key:n},r.a.createElement(Ge,null,r.a.createElement("div",{style:{color:t?"red":"blue"}},e.name),r.a.createElement(Ve,null,r.a.createElement("div",null,o?"".concat(o.score,"Pts"):"0Pt"),r.a.createElement("div",null," ",l?"Bet: ".concat(l.tricksWon,"/").concat(l.bet):"Bet: -/-"))),r.a.createElement(ze,null,a?r.a.createElement(xe,Object.assign({},Ne[c],{cursor:"NORMAL"})):null))}))),r.a.createElement(Fe,null,E.map((function(e,n){var t=Ne.find((function(n){return n.id===e.id}));return r.a.createElement(Xe,{key:n,onClick:function(){w&&te&&(65===e.id?p(!0):c.send("PLAY_CARD",{value:t.id}))}},r.a.createElement(xe,Object.assign({cursor:"CLICKABLE"},t)))}))),r.a.createElement(Ee.a,{show:m,onHide:f},r.a.createElement(Ee.a.Header,{closeButton:!0},r.a.createElement(Ee.a.Title,null,"Bloody Mary")),r.a.createElement(Ee.a.Body,null,r.a.createElement("div",{style:{textAlign:"center"}},"Woohoo, tu es plut\xf4t"," ",r.a.createElement("i",{className:"fas fa-skull-crossbones fa-lg"})," ou"," ",r.a.createElement("i",{className:"fas fa-flag fa-lg"})," ?"),r.a.createElement(en,null,r.a.createElement(Xe,{onClick:function(){c&&c.send("PLAY_CARD",{value:65,bloodyMaryChoice:"pirate"}),f()}},r.a.createElement(xe,Object.assign({cursor:"CLICKABLE"},Ne[66]))),r.a.createElement(Xe,{onClick:function(){c&&c.send("PLAY_CARD",{value:65,bloodyMaryChoice:"escape"}),f()}},r.a.createElement(xe,Object.assign({cursor:"CLICKABLE"},Ne[67]))))))):r.a.createElement(nn,null,ae?r.a.createElement("div",null,r.a.createElement("div",null,"On m'a dit que tu \xe9tais le nouveau King ? GG \ud83e\udd73\ud83e\udd73\ud83e\udd73"),r.a.createElement("div",null,"Hop pop pop, on ne prend pas la grosse t\xeate ! \ud83e\udd28"),r.a.createElement("div",null,"(Tu peux cliquer"," ",r.a.createElement(s.b,{className:"btn btn-primary",to:"/"},"ici")," ","pour revenir au lobby)")):r.a.createElement("div",null,"Oh tu as perdu ? C'est pas grave... l'important c'est de participer !"," ",r.a.createElement("span",{role:"img"},"\ud83e\udd23"),r.a.createElement("div",null,"Voici un cookie ",r.a.createElement("span",{role:"img"},"\ud83c\udf6a\ud83d\ude18")," (Tu peux cliquer"," ",r.a.createElement(s.b,{className:"btn btn-primary",to:"/"},"ici")," ","pour revenir au lobby)")))};function an(){var e=Object(p.a)(["\n  margin: 10px;\n"]);return an=function(){return e},e}function rn(){var e=Object(p.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n"]);return rn=function(){return e},e}var cn=b.a.div(rn()),ln=b.a.div(an()),on=function(){return r.a.createElement("div",null,"Assets",r.a.createElement(cn,null,Ne.map((function(e,n){return r.a.createElement(ln,{key:n},r.a.createElement(xe,e))}))))},un=t(65),sn=t.n(un);function dn(){var e=Object(p.a)(["\n  font-family: 'Chomsky';\n  font-size: 4rem;\n"]);return dn=function(){return e},e}function mn(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return mn=function(){return e},e}function pn(){var e=Object(p.a)(["\n  padding: 15px;\n"]);return pn=function(){return e},e}function fn(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  background-image: url(",");\n  height: 100vh;\n"]);return fn=function(){return e},e}var En=b.a.div(fn(),sn.a),bn=b.a.div(pn()),yn=b.a.div(mn()),vn=b.a.div(dn()),gn=function(e){var n=e.component,t=Object(m.a)(e,["component"]);return Object(i.c)((function(e){return e.user.serverChecked}))?r.a.createElement(y.a,{to:"/"}):r.a.createElement(y.b,Object.assign({},t,{render:function(e){return r.a.createElement(n,e)}}))},On=function(e){var n=e.component,t=Object(m.a)(e,["component"]),a=Object(i.c)((function(e){return e.user.serverChecked}));return a?r.a.createElement(y.b,Object.assign({},t,{render:function(e){return r.a.createElement(n,e)}})):null===a?r.a.createElement("div",null,"Loading..."):r.a.createElement(y.a,{to:"/signin"})},jn=function(){var e=Object(i.b)(),n=Object(y.g)();return Object(a.useEffect)((function(){var t=localStorage.getItem("nickname"),a=localStorage.getItem("token");t&&a?E.a.post("".concat(d,"/api/check-user"),{nickname:t,token:a}).then((function(n){var t=n.data,a=t.nickname,r=t.token;e(g({nickname:a,token:r})),e(O(!0))})).catch((function(t){e(g(null)),e(O(!1)),localStorage.clear(),n.push("/signin"),console.log("error",t.response)})):n.push("/signin")}),[e,n]),r.a.createElement(En,null,r.a.createElement(h,null),r.a.createElement(bn,null,r.a.createElement(yn,null,r.a.createElement(vn,null,"Jean Luc King")),r.a.createElement(y.d,null,r.a.createElement(gn,{path:"/signup",component:A}),r.a.createElement(gn,{path:"/signin",component:M}),r.a.createElement(On,{path:"/room/:id",component:fe}),r.a.createElement(On,{path:"/assets",component:on}),r.a.createElement(On,{path:"/game",component:tn}),r.a.createElement(On,{path:"/game/:id",component:tn}),r.a.createElement(On,{path:"/",component:ne}))))},hn=Object(u.b)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"SET_CLIENT":return Object(v.a)({},e,{client:n.payload});case"SET_ROOMS":return Object(v.a)({},e,{rooms:n.payload});case"SET_GAME_STATE":return Object(v.a)({},e,{state:n.payload});case"SET_CURRENT_ROOM":return Object(v.a)({},e,{currentRoom:n.payload});case"SET_PLAYERS":return Object(v.a)({},e,{players:[].concat(Object(H.a)(e.players),[n.payload])});case"ADD_ROUND":return Object(v.a)({},e,{rounds:[].concat(Object(H.a)(e.rounds),[n.payload])});case"ADD_PLAYED_CARD":return Object(v.a)({},e,{currentTrickPlayedCard:[].concat(Object(H.a)(e.currentTrickPlayedCard),[n.payload])});case"CLEAR_PLAYED_CARD":return Object(v.a)({},e,{currentTrickPlayedCard:[]});case"SET_PLAYER_HAND":return Object(v.a)({},e,{playerHand:n.payload});case"REMOVE_CARD_FROM_PLAYER_HAND":return Object(v.a)({},e,{playerHand:e.playerHand.filter((function(e){return e.id!==n.payload}))});case"SET_PLAYERS_BET":return Object(v.a)({},e,{playersBet:n.payload});case"PLAYER_WON_TRICK":var t=n.payload,a=Object(H.a)(e.playersBet),r=a.findIndex((function(e){return e.playerId===t}));return a[r].tricksWon+=1,Object(v.a)({},e,{playersBet:a});case"SET_SCORES":return Object(v.a)({},e,{scores:n.payload});case"RESET_GAME":return Object(v.a)({},e,{currentRoom:null,players:[],playerHand:[],rounds:[],currentTrickPlayedCard:[],playersBet:[],scores:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"SET_USER":return Object(v.a)({},e,{data:n.payload});case"SET_USER_SERVER_CHECKED":return Object(v.a)({},e,{serverChecked:n.payload});default:return e}}}),kn=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c)(),xn=Object(u.d)(hn,kn),_n=new o.Client("wss://api.hardcoregamer.patrickear.com");xn.dispatch({type:"SET_CLIENT",payload:_n}),l.a.render(r.a.createElement(i.a,{store:xn},r.a.createElement(s.a,null,r.a.createElement(jn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,n,t){e.exports=t.p+"static/media/bg-img.0bf28038.jpg"},66:function(e,n,t){e.exports=t(117)},71:function(e,n,t){},81:function(e,n){}},[[66,1,2]]]);
//# sourceMappingURL=main.4dc7f555.chunk.js.map